#{extends 'main.html' /}
#{set title:'Home' /}
<h2>Complex Testing</h2>
	#{if flash.error}
		<div class="error">
			${flash.error}
		</div>
	#{/if}
#{if step == 0}
	<h3>Get a random Test environment</h3>
	<div class="steps">
	Step 1/3
	</div>
	<p>Please insert the numbers of factors and bundles.</p>
	<p>max. 12 factors</p>
	<p>max. bundles = (#factors - 1)/2</p>
	<br/>
	#{form @Application.generateGraph()}
	<table>
		<tr>
	  	<td>Numbers of Factors</td><td><input type="text" name="numberOfFactors" value="3"/></td>
	  	</tr>
	  	<tr>
	  	<td>Numbers of Bundles</td><td><input type="text" name="numberOfBundles" value="1"/></td>
	  	</tr>
	  	<tr>
	  	  <td>Size of Bundles</td><td><input type="text" name="sizeOfBundles" value="2"/></td>
	  	</tr>
	  	<tr>
	  	<td><input type="submit" name="go" value="generate Graph" /></td><td></td>
	  	</tr>
	</table>
	#{/form}
#{/if}	
#{if step == 1}
	<h3>Generated Graph</h3>
	<div class="steps">
	Step 2/3
	</div>
	Generated time: ${time}
	<center>
		<img src="${generatedGraphPath}" />
		<p>${generatedGraph}</p>
	</center>
	#{if showTable}
	<h3>Table</h3>
	<center>
		<table>
		#{list items:table, as:'l'}
			#{if l == "/n"}<tr>
			#{/if}
			#{else}
			<td>${l}</td>
			#{/else}
			#{if l == "/n"}</tr>#{/if}
		#{/list}
		</table>
	</center>
	#{/if}
	<h3>Chose an alogorithm</h3>
	#{form @Application.calcBinGraph()}
		<input type="submit" name="binTest" value="Binary Test"/></td>
	#{/form}
	#{form @Application.calcEQuadroGraph()}
		<input type="submit" name="eQudroTest" value="Extended Quadro Test"/></td>
	#{/form}
		#{form @Application.calcBooleanGraph()}
		<input type="submit" name="booleanTest" value="Boolean Test"/></td>
	#{/form}
	#{form @Application.calcAllGraph()}
		<input type="submit" name="allTest" value="All Tests"/></td>
	#{/form}
#{/if}
#{if step == 2}
	<h3>Results</h3>
	<div class="steps">
	Step 3/3
	</div>
	<h3>Generated Graph</h3>
		<center>
		<img src="${generatedGraphPath}" />
		<p>${generatedGraph}</p>
		</center>
	<h3>Calculated Graph</h3>
	Name of Algorithm: ${algorithmName} <br />
	Calculation time: ${time}
		<center>
		<img src="${calculatedGraphPath}" />
		<p>${calculatedGraph}</p>
		</center>
#{/if}